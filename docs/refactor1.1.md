–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
1. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è time_budget
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ò–∑–º–µ–Ω–µ–Ω —Ç–∏–ø —Å FLOAT –Ω–∞ NUMERIC(2,1) —Å –¥–µ—Ñ–æ–ª—Ç–æ–º 2.5
ORM –º–æ–¥–µ–ª—å: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Numeric(2, 1) –≤–º–µ—Å—Ç–æ Float
Dataclass: –î–µ—Ñ–æ–ª—Ç –∏–∑–º–µ–Ω–µ–Ω —Å 0.0 –Ω–∞ 2.5
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è: –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 0.5 —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º float() —Ç–∏–ø–æ–º
–õ–æ–≥–∏–∫–∞: update_state –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–∫—Ä—É–≥–ª—è–µ—Ç –¥–æ 0.5
–°–æ–±—ã—Ç–∏—è: DailyResetEvent –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç float –∑–Ω–∞—á–µ–Ω–∏—è –∫—Ä–∞—Ç–Ω—ã–µ 0.5
2. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è energy_level
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –î–µ—Ñ–æ–ª—Ç –∏–∑–º–µ–Ω–µ–Ω —Å 0.0 –Ω–∞ 5.0
Dataclass: –î–µ—Ñ–æ–ª—Ç –∏–∑–º–µ–Ω–µ–Ω —Å 0.0 –Ω–∞ 5.0
–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –¥–µ—Ñ–æ–ª—Ç
3. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è 43e5b55f1cc6_unify_time_budget_to_numeric
–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º USING clause
–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–æ–π \d capsim.persons
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
CRUD —Ç–µ—Å—Ç: –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è 3.5 –±–µ–∑ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –¥–æ —Ü–µ–ª–æ–≥–æ
–°–∏–º—É–ª—è—Ü–∏—è: 1000 –∞–≥–µ–Ω—Ç–æ–≤, 492 —Å–æ–±—ã—Ç–∏—è, –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
–¢–∏–ø—ã: ORM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Decimal –¥–ª—è time_budget, float –¥–ª—è energy_level
üìä –ü—Ä–∏—ë–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
‚úÖ psql \d persons –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç numeric(2,1) –¥–ª—è time_budget
‚úÖ CRUD-—Ç–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç 3.5 –±–µ–∑ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –¥–æ —Ü–µ–ª–æ–≥–æ
‚úÖ –í—Å–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç uniform(0.5, 5.0) —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ 0.5
‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–ª–æ–π –¥–∞–Ω–Ω—ã—Ö
‚úÖ –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
–¢–æ—á–Ω–æ—Å—Ç—å: NUMERIC(2,1) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å 0.1 –ø—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0.0-5.0
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: Minimal overhead –¥–ª—è numeric –æ–ø–µ—Ä–∞—Ü–∏–π
–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: SQLAlchemy –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞–ø–ø–∏—Ç NUMERIC –≤ Decimal/float
–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ: –§—É–Ω–∫—Ü–∏—è round(value * 2) / 2 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —à–∞–≥ 0.5
–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–∞–±–æ—á–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏! üéâ